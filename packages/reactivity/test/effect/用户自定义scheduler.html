<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>

<script type="module">
  import { reactive, effect } from '../../dist/reactivity.js'

  const person = reactive({
    name: 'yyr',
    age: 18
  })

  const runner = effect(() => {
    document.body.innerHTML = `${ person.name }--${ person.age }`
  }, {
    scheduler: () => {
      console.log('比如我先执行日志')
      console.log('再更新dom')
      // vue提供的重新渲染函数
      runner()
    }
  })

  // 模拟改reactive数据
  setTimeout(() => {
    person.name = 'hcx'
  }, 1000)

</script>
</html>